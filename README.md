# åŒ–å¦†å“çŸ¥è¯†åº“é—®ç­”æœºå™¨äººPipelineé¡¹ç›®

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªæ™ºèƒ½åŒ–å¦†å“çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿï¼Œæ”¯æŒä¸¤ç§æ‰§è¡Œæ¨¡å¼ï¼š

- **Workflowæ¨¡å¼**ï¼šå›ºå®šæµç¨‹çš„å¤šè½®å¯¹è¯ä»»åŠ¡
- **Agentæ¨¡å¼**ï¼šåŸºäºLangGraphçš„æ™ºèƒ½ä»£ç†ç³»ç»Ÿ

## æŠ€æœ¯æ¶æ„

- **Workflowå®ç°**ï¼šä½¿ç”¨HTTPè¯·æ±‚è¿›è¡Œæµå¼èŠå¤©æ¥å£è°ƒç”¨
- **Agentå®ç°**ï¼šåŸºäºLangGraphæ¡†æ¶ï¼Œæ”¯æŒæµå¼å“åº”
- **çŸ¥è¯†æ£€ç´¢**ï¼šé›†æˆå¤šæºçŸ¥è¯†åº“API
  - åŒ–å¦†å“ä¸“ä¸šçŸ¥è¯†åº“
  - LightRAGæ£€ç´¢ç³»ç»Ÿ
  - åœ¨çº¿æœç´¢å¼•æ“

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.11+
- Redis 7.0+

### å®‰è£…ä¾èµ–

**å¿«é€Ÿå®‰è£…ï¼ˆæ¨èï¼‰ï¼š**
```bash
# ä½¿ç”¨è‡ªåŠ¨å®‰è£…è„šæœ¬
python scripts/install_deps.py
```

**æ‰‹åŠ¨å®‰è£…ï¼š**
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ–
venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

> ğŸ“– **è¯¦ç»†å®‰è£…æŒ‡å—**ï¼šå¦‚æœé‡åˆ°å®‰è£…é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ [INSTALL.md](INSTALL.md) è·å–è¯¦ç»†çš„å®‰è£…æ­¥éª¤å’Œæ•…éšœæ’é™¤æ–¹æ¡ˆã€‚

### é…ç½®ç¯å¢ƒ

```bash
# å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¡«å…¥ç›¸åº”çš„APIå¯†é’¥å’Œé…ç½®
vim .env
```

### è¿è¡Œåº”ç”¨

```bash
# å¼€å‘æ¨¡å¼
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# ç”Ÿäº§æ¨¡å¼
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

### ä½¿ç”¨Docker

```bash
# æ„å»ºé•œåƒ
docker-compose build

# å¯åŠ¨æœåŠ¡
docker-compose up -d
```

## APIæ–‡æ¡£

å¯åŠ¨åº”ç”¨åï¼Œè®¿é—®ä»¥ä¸‹åœ°å€æŸ¥çœ‹APIæ–‡æ¡£ï¼š

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## é¡¹ç›®ç»“æ„

```
intent_agent_pipeline/
â”œâ”€â”€ app/                    # åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ agents/            # æ™ºèƒ½ä»£ç†
â”‚   â”œâ”€â”€ langgraph/         # LangGraphå·¥ä½œæµ
â”‚   â”œâ”€â”€ services/          # å¤–éƒ¨æœåŠ¡æ¥å£
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ api/               # APIæ¥å£
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ tests/                 # æµ‹è¯•ç›®å½•
â”œâ”€â”€ docker/                # Dockeré…ç½®
â””â”€â”€ requirements.txt       # ä¾èµ–æ–‡ä»¶
```

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

- ä½¿ç”¨pytestè¿›è¡Œæµ‹è¯•
- éµå¾ªPEP 8ä»£ç è§„èŒƒ

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/unit/

# è¿è¡Œé›†æˆæµ‹è¯•
pytest tests/integration/

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=app tests/
```

## è®¸å¯è¯

MIT License
